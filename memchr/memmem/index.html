<!DOCTYPE html><html lang="en" data-bs-color-scheme="light"><head><title>memmem in memchr - Rust</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="color-scheme" content="light dark"><link href="https://cdn.jsdelivr.net/npm/bootstrap-dark-5@1.1.3/dist/css/bootstrap-blackbox.min.css" integrity="sha384-nXtYGwAUBOgb4M8Eo9xOK3Er3bVPQo1HguUNWf/RheIagsbCaP3ZaYqVeUqHEr20" rel="stylesheet" crossorigin="anonymous"><link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" integrity="sha384-tKLJeE1ALTUwtXlaGjJYM3sejfssWdAaWR2s97axw4xkiAdMzQjtOjgcyw0Y50KU" rel="stylesheet" crossorigin="anonymous"><link href="../../style.css" rel="stylesheet"><link href="../../rust.svg" rel="icon" type="image/svg+xml"></head><body><header class="navbar navbar-expand-md navbar-dark rd-navbar"><nav class="container-xxl flex-wrap flex-md-nowrap" aria-label="Main navigation"><a class="navbar-brand p-0 me-2" href="../../memchr/index.html" aria-label="Rust"><img src="../../rust.svg" width="40" height="40" alt="Rust Logo"></a><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#rdNavbar" aria-controls="rdNavbar" aria-expanded="false" aria-label="Toggle navigation"><i class="bi bi-list"></i></button><div class="collapse navbar-collapse" id="rdNavbar"><ul class="navbar-nav flex-row flex-wrap pt-2 py-md-0"><li class="nav-item col-6 col-md-auto"><a class="nav-link p-2 active" href="../../memchr/index.html">memchr</a></li></ul><hr class="d-md-none text-white-50"><ul class="navbar-nav flex-row flex-wrap ms-md-auto"><li class="nav-item col-6 col-md-auto"><a class="nav-link p-2" href="#themes" title="Toggle themes" onclick="darkmode.toggleDarkMode()"><i class="bi bi-palette"></i><small class="d-md-none ms-2">Themes</small></a></li><li class="nav-item col-6 col-md-auto" title="Unimplemented"><a class="nav-link p-2" href="#shortcuts"><i class="bi bi-question-lg"></i><small class="d-md-none ms-2">Shortcut</small></a></li><li class="nav-item col-6 col-md-auto" title="Unimplemented"><a class="nav-link p-2" href="#options"><i class="bi bi-wrench"></i><small class="d-md-none ms-2">Options</small></a></li></ul></div></nav></header><nav class="rd-subnavbar py-2 border-bottom shadow-sm" aria-label="Secondary navigation"><div class="container-xxl d-flex align-items-md-center"><form class="rd-search position-relative" id="rd-search-form"><span class="w-100" style="position: relative; display: inline-block; direction: ltr;"><input type="search" class="form-control ds-input" id="rd-search-input" placeholder="Search in memchr..." aria-label="Search docs for..." autocomplete="off" spellcheck="false" role="combobox" aria-autocomplete="list" aria-expanded="false" aria-owns="rd-search-menu" style="position: relative; vertical-align: top;" dir="auto"><span class="ds-dropdown-menu" style="position: absolute; top: 100%; z-index: 100; display: none; left: 0px; right: 0px;" role="listbox" id="rd-search-menu"><div class="rd-search-items" id="rd-search-items"></div></span></span></form><button class="btn rd-sidebar-toggle d-md-none py-0 px-1 ms-3 order-3 collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#rd-docs-nav" aria-controls="rd-docs-nav" aria-expanded="false" aria-label="Toggle docs navigation"><i class="bi bi-arrows-expand"></i><i class="bi bi-arrows-collapse"></i></button></div></nav><div id="main" class="container-xxl"><div class="rd-main"><div class="rd-intro"><h1 id="item-title" class="rd-anchor item-title">Module <a class="mod" href="../index.html">memchr</a>::<wbr><a class="mod" href="index.html">memmem</a></h1><details id="item-documentation" class="rd-anchor item-documentation" open=""><summary>Documentation</summary><div class="mt-2"><p>This module provides forward and reverse substring search routines.</p>
<p>Unlike the standard library’s substring search routines, these work on
arbitrary bytes. For all non-empty needles, these routines will report exactly
the same values as the corresponding routines in the standard library. For
the empty needle, the standard library reports matches only at valid UTF-8
boundaries, where as these routines will report matches at every position.</p>
<p>Other than being able to work on arbitrary bytes, the primary reason to prefer
these routines over the standard library routines is that these will generally
be faster. In some cases, significantly so.</p>
<h2 class="rd-anchor" id="example-iterating-over-substring-matches">Example: iterating over substring matches<a aria-label="anchor" href="#example-iterating-over-substring-matches"><i class="bi bi-hash"></i></a></h2>
<p>This example shows how to use <a href="fn.find_iter.html" title="`find_iter`"><code>find_iter</code></a> to find occurrences of a substring
in a haystack.</p>
<pre><code class="language-rust">use memchr::memmem;

let haystack = b&quot;foo bar foo baz foo&quot;;

let mut it = memmem::find_iter(haystack, &quot;foo&quot;);
assert_eq!(Some(0), it.next());
assert_eq!(Some(8), it.next());
assert_eq!(Some(16), it.next());
assert_eq!(None, it.next());</code></pre><h2 class="rd-anchor" id="example-iterating-over-substring-matches-in-reverse">Example: iterating over substring matches in reverse<a aria-label="anchor" href="#example-iterating-over-substring-matches-in-reverse"><i class="bi bi-hash"></i></a></h2>
<p>This example shows how to use <a href="fn.rfind_iter.html" title="`rfind_iter`"><code>rfind_iter</code></a> to find occurrences of a substring
in a haystack starting from the end of the haystack.</p>
<p><strong>NOTE:</strong> This module does not implement double ended iterators, so reverse
searches aren’t done by calling <code>rev</code> on a forward iterator.</p>
<pre><code class="language-rust">use memchr::memmem;

let haystack = b&quot;foo bar foo baz foo&quot;;

let mut it = memmem::rfind_iter(haystack, &quot;foo&quot;);
assert_eq!(Some(16), it.next());
assert_eq!(Some(8), it.next());
assert_eq!(Some(0), it.next());
assert_eq!(None, it.next());</code></pre><h2 class="rd-anchor" id="example-repeating-a-search-for-the-same-needle">Example: repeating a search for the same needle<a aria-label="anchor" href="#example-repeating-a-search-for-the-same-needle"><i class="bi bi-hash"></i></a></h2>
<p>It may be possible for the overhead of constructing a substring searcher to be
measurable in some workloads. In cases where the same needle is used to search
many haystacks, it is possible to do construction once and thus to avoid it for
subsequent searches. This can be done with a <a href="struct.Finder.html" title="`Finder`"><code>Finder</code></a> (or a <a href="struct.FinderRev.html" title="`FinderRev`"><code>FinderRev</code></a> for
reverse searches).</p>
<pre><code class="language-rust">use memchr::memmem;

let finder = memmem::Finder::new(&quot;foo&quot;);

assert_eq!(Some(4), finder.find(b&quot;baz foo quux&quot;));
assert_eq!(None, finder.find(b&quot;quux baz bar&quot;));</code></pre></div></details></div><div id="rd-docs-nav" class="rd-toc ps-xl-3 collapse"><strong class="d-block h6 my-2 pb-2 border-bottom">On this page</strong><nav id="TableOfContents"><ul><li><a href="#item-title" class="d-inline-flex align-items-center rounded"><strong>memmem</strong></a></li><li><a class="rd-btn-toc d-inline-block align-items-center rounded bi bi-caret-right-fill" href="#item-documentation" data-bs-toggle="collapse" data-bs-target="#toc-documentation" aria-expanded="true" aria-current="true"><strong>Documentation</strong></a><ul id="toc-documentation" class="collapse show"><li><a href="#example-iterating-over-substring-matches" class="d-inline-block align-items-center rounded">Example: iterating over substring matches</a></li><li><a href="#example-iterating-over-substring-matches-in-reverse" class="d-inline-block align-items-center rounded">Example: iterating over substring matches in reverse</a></li><li><a href="#example-repeating-a-search-for-the-same-needle" class="d-inline-block align-items-center rounded">Example: repeating a search for the same needle</a></li></ul></li><li><a class="rd-btn-toc d-inline-block align-items-center rounded bi bi-caret-right-fill" href="#structs" data-bs-toggle="collapse" data-bs-target="#toc-structs" aria-expanded="true" aria-current="true"><strong>Structs</strong></a><ul id="toc-structs" class="collapse show"><li><a href="struct.FindIter.html" class="d-inline-block align-items-center rounded">FindIter</a></li><li><a href="struct.FindRevIter.html" class="d-inline-block align-items-center rounded">FindRevIter</a></li><li><a href="struct.Finder.html" class="d-inline-block align-items-center rounded">Finder</a></li><li><a href="struct.FinderBuilder.html" class="d-inline-block align-items-center rounded">FinderBuilder</a></li><li><a href="struct.FinderRev.html" class="d-inline-block align-items-center rounded">FinderRev</a></li></ul></li><li><a class="rd-btn-toc d-inline-block align-items-center rounded bi bi-caret-right-fill" href="#enums" data-bs-toggle="collapse" data-bs-target="#toc-enums" aria-expanded="true" aria-current="true"><strong>Enums</strong></a><ul id="toc-enums" class="collapse show"><li><a href="enum.Prefilter.html" class="d-inline-block align-items-center rounded">Prefilter</a></li></ul></li><li><a class="rd-btn-toc d-inline-block align-items-center rounded bi bi-caret-right-fill" href="#functions" data-bs-toggle="collapse" data-bs-target="#toc-functions" aria-expanded="true" aria-current="true"><strong>Functions</strong></a><ul id="toc-functions" class="collapse show"><li><a href="fn.find.html" class="d-inline-block align-items-center rounded">find</a></li><li><a href="fn.find_iter.html" class="d-inline-block align-items-center rounded">find_iter</a></li><li><a href="fn.rfind.html" class="d-inline-block align-items-center rounded">rfind</a></li><li><a href="fn.rfind_iter.html" class="d-inline-block align-items-center rounded">rfind_iter</a></li></ul></li></ul></nav></div><div class="rd-content"><section><h2 id="structs" class="rd-anchor">Structs<a aria-label="anchor" href="#structs"><i class="bi bi-hash"></i></a></h2><div class="item-table"><div><p><a href="struct.FindIter.html" class="struct">FindIter</a></p></div><div><p>An iterator over non-overlapping substring matches.</p>
</div><div><p><a href="struct.FindRevIter.html" class="struct">FindRevIter</a></p></div><div><p>An iterator over non-overlapping substring matches in reverse.</p>
</div><div><p><a href="struct.Finder.html" class="struct">Finder</a></p></div><div><p>A single substring searcher fixed to a particular needle.</p>
</div><div><p><a href="struct.FinderBuilder.html" class="struct">FinderBuilder</a></p></div><div><p>A builder for constructing non-default forward or reverse memmem finders.</p>
</div><div><p><a href="struct.FinderRev.html" class="struct">FinderRev</a></p></div><div><p>A single substring reverse searcher fixed to a particular needle.</p>
</div></div></section><section><h2 id="enums" class="rd-anchor">Enums<a aria-label="anchor" href="#enums"><i class="bi bi-hash"></i></a></h2><div class="item-table"><div><p><a href="enum.Prefilter.html" class="enum">Prefilter</a></p></div><div><p>Prefilter controls whether heuristics are used to accelerate searching.</p>
</div></div></section><section><h2 id="functions" class="rd-anchor">Functions<a aria-label="anchor" href="#functions"><i class="bi bi-hash"></i></a></h2><div class="item-table"><div><p><a href="fn.find.html" class="fn">find</a></p></div><div><p>Returns the index of the first occurrence of the given needle.</p>
</div><div><p><a href="fn.find_iter.html" class="fn">find_iter</a></p></div><div><p>Returns an iterator over all occurrences of a substring in a haystack.</p>
</div><div><p><a href="fn.rfind.html" class="fn">rfind</a></p></div><div><p>Returns the index of the last occurrence of the given needle.</p>
</div><div><p><a href="fn.rfind_iter.html" class="fn">rfind_iter</a></p></div><div><p>Returns a reverse iterator over all occurrences of a substring in a
haystack.</p>
</div></div></section></div></div></div><footer class="container-xxl text-center">The rd developpers - (c) 2022</footer><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.min.js" integrity="sha384-cn7l7gDp0eyniUwwAZgrzD06kc/tftFf19TOAs2zVinnD/C7E91j9yyk5//jjpt/" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap-dark-5@1.1.3/dist/js/darkmode.min.js" integrity="sha384-A4SLs39X/aUfwRclRaXvNeXNBTLZdnZdHhhteqbYFS2jZTRD79tKeFeBn7SGXNpi" crossorigin="anonymous"></script><script src="../../memchr/search-index.js"></script><script src="../../search.js"></script></body></html>
